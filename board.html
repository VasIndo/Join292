<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="icon" type="image/x-icon" href="assets/img/favicon.svg" />

    <link rel="stylesheet" href="css/board.css" />
    <link rel="stylesheet" href="css/board-add-task-popup.css" />
    <link rel="stylesheet" href="css/board-task-datail-view.css" />

    <link rel="stylesheet" href="css/font.css" />
    <link rel="stylesheet" href="css/template.css" />

    <script src="js/include.js" defer></script>
    <script src="js/template.js" defer></script>
    <script src="js/board-add-task-popup.js" defer></script>
    <script src="js/board-task-detail-view.js" defer></script>
    <script src="js/board-task-detail-view-edit.js" defer></script>
    <script src="js/board.js" defer></script>

    <title>Join Board</title>
  </head>
  <body onload="includeHTML(), loadData()" class="page-board">
    <div w3-include-html="template.html"></div>

    <div class="board" id="board">
      <div class="headline">
        <div class="headline-left">
          <h1>Board</h1>
        </div>
        <div class="headline-right">
          <form id="searchbar">
            <input onkeyup="filterTask()" id="searchbar-field" type="text" placeholder="Find Task" />
            <div class="line"></div>
            <img
              onclick="filterTask()"
              class="magnifying-glass"
              src="assets/img/magnifying-glass.svg"
              alt="magnifying glass"
            />
          </form>
          <a onclick="toggleAddTaskPopUp()" href="#" id="add-task-btn-desktop" class="add-task-btn"
            ><span>Add task</span><img src="assets/img/btn-plus.svg" alt="+"
          /></a>
          <a href="addTask.html" id="add-task-btn-mobile" class="add-task-btn"
            ><span>Add task</span><img src="assets/img/btn-plus.svg" alt="+"
          /></a>
        </div>
      </div>
      <div class="searchbar-mobile">
        <form id="searchbar-mobile">
          <input onkeyup="filterTask()" id="searchbar-field-mobile" type="text" placeholder="Find Task" />
          <div class="line"></div>
          <img
            onclick="filterTask()"
            class="magnifying-glass"
            src="assets/img/magnifying-glass.svg"
            alt="magnifying glass"
          />
        </form>
      </div>

      <div class="tasks">
        <div
          ondrop="moveTo('toDo'); removeHighLight('to-do-split')"
          ondragover="allowDrop(event); addHighLight('to-do-split')"
          ondragleave="removeHighLight('to-do-split')"
          id="to-do-split"
          class="to-do-split"
        >
          <div class="to-do-headline">
            <span>To do</span>
            <img class="task-plus" id="to-do-plus" src="assets/img/plus-button.svg" alt="plus" />
          </div>
          <div id="to-do-tasks">
            <div id="to-do-tasks-empty" class="tasks-empty">No tasks To do</div>
          </div>
        </div>
        <div
          ondrop="moveTo('inProgress'); removeHighLight('in-progress-split')"
          ondragover="allowDrop(event); addHighLight('in-progress-split')"
          ondragleave="removeHighLight('in-progress-split')"
          id="in-progress-split"
          class="in-progress-split"
        >
          <div class="in-progress-headline">
            <span>In progress</span>
            <img class="task-plus" id="in-progress-plus" src="assets/img/plus-button.svg" alt="plus" />
          </div>
          <div id="in-progress-tasks" class="in-progress-tasks">
            <div onclick="toggleDetailTaskCard()" id="card">
              <div class="catagory">User Story</div>
              <h1 class="title">Kochwelt Page & Recipe Recommender</h1>
              <p class="description">Build start page with recipe recommendation...</p>
              <div class="subtasks">
                <div class="subtasks-diagram">
                  <div class="subtasks-diagram-filled"></div>
                </div>
                <span class="subtasks-number">1/2</span>
              </div>
              <div class="bottom-card">
                <div class="assigned-to"></div>
                <img class="prio" src="assets/img/prio-medium.svg" alt="medium" />
              </div>
            </div>
          </div>
        </div>
        <div
        ondrop="moveTo('awaitFeedback'); removeHighLight('await-feedback-split')"
        ondragover="allowDrop(event); addHighLight('await-feedback-split')"
        ondragleave="removeHighLight('await-feedback-split')"
        id="await-feedback-split"
        class="await-feedback-split"
      >          <div class="await-feedback-headline">
            <span>Await feedback</span>
            <img class="task-plus" id="await-feedback-plus" src="assets/img/plus-button.svg" alt="plus" />
          </div>
          <div id="await-feedback-tasks" class="await-feedback-tasks"></div>
        </div>
        <div
          ondrop="moveTo('done'), removeHighLight('done-split')"
          ondragover="allowDrop(event) ,addHighLight('done-split')"
          ondragleave="removeHighLight('done-split')"
          id="done-split"
          class="done-split"
        >
          <div class="done-headline">
            <span>Done</span>
          </div>
          <div id="done-tasks" class="done-tasks"></div>
        </div>
      </div>

      <div class="hide-card" id="card-detail-view">
        <div id="card-detail-view-headline" class="card-detail-view-headline"></div>
        <div id="card-detail-view-title-container">
          <h1 id="card-detail-view-title" class="card-detail-view-title">Kochwelt Page & Recipe Recommender</h1>
        </div>
        <div id="card-detail-view-description-container">
          <span id="card-detail-view-description" class="card-detail-view-description"
            >Build start page with recipe recommendation.</span
          >
        </div>
        <div id="card-detail-view-date">
          <span class="card-detail-view-date-text">Due Date:</span>
          <span id="card-detail-view-date-due-date" class="card-detail-view-date-due-date">10/05/2023</span>
        </div>
        <div id="card-detail-view-priority">
          <span class="card-detail-view-priority-text">Priority:</span>
          <div class="card-detail-view-priority-urgency">
            <span id="card-detail-view-priority-urgency-span">Medium</span>
            <img id="card-detail-view-priority-urgency-img" src="assets/img/prio-medium.svg" alt="" />
          </div>
        </div>
        <div id="card-detail-view-assigned-persons-container" class="card-detail-view-assigned-to">
          <span>Assigned-To:</span>
          <div id="card-detail-view-assigned-persons"></div>
          <div id="card-detail-view-assigned-persons-logo"></div>
        </div>
        <div id="card-detail-view-subtasks" class="card-detail-view-subtasks">
          <span>Subtasks</span>
          <div id="card-detail-view-subtasks-container" class="card-detail-view-subtasks-container">
            <div class="card-detail-view-subtasks-enumeration-one">
              <img src="assets/img/check-button-checked.svg" alt="checked" />
              <span>Implement Recipe Recommendation</span>
            </div>
            <div class="card-detail-view-subtasks-enumeration-two">
              <img src="assets/img/check-button.svg" alt="not checked" />
              <span>Start Page Layout</span>
            </div>
          </div>
        </div>
        <div id="options-container">
          <div id="options" class="options">
            <div onclick="deleteTask()" class="delete">
              <img src="assets/img/delete.svg" alt="Bin" />
              <span>Delete</span>
            </div>
            <div class="options-line"></div>
            <div onclick="editTask()" class="edit">
              <img src="assets/img/edit.svg" alt="Pencil" />
              <span>Edit</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="hide-add-task" id="add-task">
      <div class="add-task-headline">
        <h1>Add Task</h1>
        <img onclick="toggleAddTaskPopUp()" src="assets/img/close.svg" alt="Close" />
      </div>
      <form action="">
        <div class="form">
          <div class="add-task-left">
            <label for="title">Title <span>*</span></label>
            <input type="text" id="title" name="task-title" required placeholder="Enter a Title" />

            <label for="description">Description</label>
            <textarea
              id="description"
              name="task-description"
              rows="6"
              cols="50"
              placeholder="Enter a Description"
            ></textarea>

            <div class="assigned-container">
              <label for="assigned-select">Assigned to</label>
              <div onclick="toggleAssignedDropDown()" id="assigned-dropdown">
                Select contacts to assign
                <img class="drop-down-arrow" src="assets/img/drop-down-arrow.svg" alt="Arrow" />
              </div>
              <div id="person-to-assigned" class="d-none">
                <div id="person0" onclick="togglePersonToAssigned(0)" class="person-container">
                  <div class="person">
                    <span class="person-to-assigned-logo1">SM</span>
                    <span id="person-to-assigned-name0">Sofia MÃ¼ller</span>
                  </div>
                  <img id="person0-checkbox" src="assets/img/check-button.svg" class="checkbox" />
                </div>
                <div id="person1" onclick="togglePersonToAssigned(1)" class="person-container">
                  <div class="person">
                    <span class="person-to-assigned-logo2">AM</span>
                    <span id="person-to-assigned-name1">Anton Mayer</span>
                  </div>
                  <img id="person1-checkbox" src="assets/img/check-button.svg" class="checkbox" />
                </div>
              </div>
            </div>
            <div id="assigned-person"></div>
          </div>

          <div class="add-task-line"></div>

          <div class="add-task-right">
            <div class="date-container">
              <label for="date">Due date <span>*</span></label>
              <input type="date" id="date" name="date" required />
            </div>

            <div class="add-task-prio">
              <label for="prio">Prio</label>
              <div class="prio-btn">
                <button onclick="togglePrio('high')" class="high-btn" type="button" id="high-btn">
                  Urgent <img id="high-btn-img" src="assets/img/prio-high.svg" alt="High" />
                </button>
                <button
                  onclick="togglePrio('medium')"
                  class="medium-btn medium-btn-active"
                  type="button"
                  id="medium-btn"
                >
                  Medium <img id="medium-btn-img" src="assets/icon/prio_medium_selected.svg" alt="Medium" />
                </button>
                <button onclick="togglePrio('low')" class="low-btn" type="button" id="low-btn">
                  Low <img id="low-btn-img" src="assets/img/prio-low.svg" alt="Low" />
                </button>
              </div>
            </div>

            <div class="category-container">
              <label for="category-select">Category <span>*</span></label>
              <div id="category-dropdown" onclick="toggleCategoryDropDown()">
                <span id="category">Select task category</span>
                <img class="drop-down-arrow" src="assets/img/drop-down-arrow.svg" alt="Arrow" />
              </div>
              <div id="categories" class="d-none">
                <div class="categories-container">
                  <span
                    id="technical-task"
                    onclick="toggleCategoryDropDown(), addCategory('Technical Task', 'technical-task')"
                    >Technical Task</span
                  >
                  <span id="user-story" onclick="toggleCategoryDropDown(), addCategory('User Story', 'user-story')"
                    >User Story</span
                  >
                </div>
              </div>
            </div>

            <div class="subtasks-container">
              <label for="subtasks">Subtasks</label>
              <div class="add-subtasks-container">
                <input name="add-subtasks" id="add-subtasks" placeholder="Add new subtasks" />
                <img onclick="addSubtasks()" id="add-subtasks-plus" src="assets/img/plus2.svg" alt="Plus" />
              </div>
              <ul id="added-subtasks-list"></ul>
            </div>
          </div>
        </div>
      </form>
      <div class="bottom">
        <div class="bottom-left">
          <span>*</span>
          <span>This field is required</span>
        </div>
        <div class="bottom-right">
          <a
            href="#"
            onclick="toggleAddTaskPopUp()"
            onmouseenter="mouseEnterChangeX()"
            onmouseleave="mouseLeaveChangeX()"
            class="cancel-btn"
            >Cancel<img id="cancel-btn-img" src="assets/img/cancel-x.svg"
          /></a>
          <a href="#" onclick="pushNewTaskInJson()" class="create-task-btn"
            >Create Task<img src="assets/img/create-task-check.svg"
          /></a>
        </div>
      </div>
    </div>

    <div id="board-container" class="d-none"></div>
  </body>
</html>
